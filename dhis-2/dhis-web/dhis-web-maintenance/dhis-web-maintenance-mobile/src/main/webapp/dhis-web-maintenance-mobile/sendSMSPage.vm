<style type="text/css">
    .statusBar{
        color: white;
        padding: 5px 5px;
        margin: -16px 0 20px -20px;
        font-weight: bold;
        background-color: #8FABC7;
    }
</style>

<h3>Send SMS</h3>
#if ( $smsServiceStatus )

<form method="post">
	<table id="detailsList">
	    <col width="300px"/>
		<col width="80px"/>
		<tbody>
			<tr>
				<th colspan="2">$i18n.getString( "gateway_type" )</th>
			</tr>
			<tr>
				<td><label for="type">$i18n.getString( "type" ):</label></td>
				<td>
					<select style="width: 100%;">
						<option value="0">Modem</option>
						<option value="1">Clickatell</option>
						<option value="2">BulkSMS</option>
					</select>
				</td>
			</tr>
			
			<tr>
				<td>$i18n.getString( "organisation_unit" )</td>
				<td><input type="checkbox" onchange="toggleSMSGUI( this.checked );"/></td>
			</tr>
			
			<tr><th colspan="2">$i18n.getString( "message" )</th></tr>
			<tr><td colspan="2"><textarea name="smsMessage" cols="95" rows="10"></textarea></td></tr>
		</tbody>
	</table>

	<table id="detailsList">
		<col width="300px"/>
		<col width="80px"/>
		<tbody id="singleType">
			<tr><th colspan="2">$i18n.getString( "phone" ):</th></tr>
			<tr><td colspan="2"><input type="text" name="recipient" style="width:520px" /></td></tr>
		</tbody>
	
		<tbody id="multipleType" style="display:none">
			<tr><td>#organisationUnitSelectionTree( true, true, true )</td></tr>
		</tbody>
		
		<tbody>
			<tr><td><input type="submit" name="send" value="Send SMS"/></td></tr>
		</tbody>
	</table>
</form>
</div>

#parse( "dhis-web-commons/loader/loader.vm" )
#else
<p>No Sms service available</p>
#end

<script type="text/javascript">
	function toggleSMSGUI( checked )
	{
		if ( checked ) {
			hideById( 'singleType' );
			showById( 'multipleType' );
		} else {
			showById( 'singleType' );
			hideById( 'multipleType' );
		}
	}
</script>