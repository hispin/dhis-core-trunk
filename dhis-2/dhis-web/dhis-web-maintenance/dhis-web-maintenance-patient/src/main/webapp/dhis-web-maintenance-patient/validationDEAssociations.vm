
<h3>$i18n.getString( "define_validationDE_associations" ) </h3>

<form>
<table>
<input type='hidden' id='programId' name='programId' value='$program.id'>

<tr>
  <th colspan="3">$i18n.getString('programstage_dataelement_validation')</th>
</tr>
<tr>
  <td><label>$i18n.getString('description')<em title="$i18n.getString( "required" )" class="required">*</em></label></td>
  <td>&nbsp;</td>
  <td>&nbsp;</td>
</tr>
<tr>
  <td colspan="3"><input type="text" id="description" name="description" style="width:100% "></td> 
</tr>
<tr>
  <th><label>$i18n.getString('left_side')</label></th>
  <th><label>$i18n.getString('operator')</label></th>
  <th><label>$i18n.getString('right_side')</label></th>
</tr>
<tr>
  <td><select id="leftProgramStageId" name="leftProgramStageId" style="width:30em " onchange="getDataElementsFromStage(this.value, 'leftDataElementId');">
		<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		#foreach($stage in $stages)
		<option value="$stage.id">$stage.name</option> 
		#end
  	</select>
  </td>
  <td>&nbsp;</td>
  <td><select id="rightProgramStageId" name="rightProgramStageId" style="width:30em " onchange="getDataElementsFromStage(this.value, 'rightDataElementId');">
		<option value="" selected="selected">[$i18n.getString( "please_select" )]</option>
		#foreach($stage in $stages)
		<option value="$stage.id">$stage.name</option> 
		#end
  	</select>
  </td>
</tr>
<tr>
  <td><select id="leftDataElementId" name="leftDataElementId" style="width:30em "></select></td>
  <td align='center'><select id='operator' name='operator' style='width: 4.5em'>
          <option value='-1'>$i18n.getString('operator_less_then')</option>
          <option value='0'>$i18n.getString('operator_equal_to')</option>
          <option value='1'>$i18n.getString('operator_greater_then')</option>
    </select></td>
  <td><select id="rightDataElementId" name="rightDataElementId" style="width:30em "></select></td>
</tr>
<tr>
  <td>
  <input type="button" onClick="validateProgramStageDEValidation();" value="$i18n.getString('save')" style="width:10em">
  <input type="button" onClick="window.location.href = 'program.action';" value="$i18n.getString('cancel')" style="width:10em">
  </td>
  <td>&nbsp;</td>
  <td></td>
</tr>
</table>
<br><br>
<table class="listTable">
	<thead>
    <tr>
      <th>$i18n.getString('description')</th>
      <th>$i18n.getString('validation')</th>
      <th style="width:5em ">$i18n.getString('operator')</th>
    </tr>
	</thead>	
	<tbody id="list">
		#foreach($validation in $validations)
			#parse( "/dhis-web-maintenance-patient/loadValidationDEAssociation.vm" )
		#end
	</tbody>
</table>	

<span id='message'></span>

<script>

	byId('description').value = '';
	byId('leftProgramStageId').selectedIndex = 0;
	byId('rightProgramStageId').selectedIndex = 0;

	var i18n_confirm_delete = '$encoder.jsEscape( $i18n.getString( "confirm_delete_patient" ) , "'" )';
	var i18n_fill_fields_in_programstage_dataelement_validation = '$encoder.jsEscape( $i18n.getString( "fill_fields_in_programstage_dataelement_validation" ) , "'" )';
	
</script>
