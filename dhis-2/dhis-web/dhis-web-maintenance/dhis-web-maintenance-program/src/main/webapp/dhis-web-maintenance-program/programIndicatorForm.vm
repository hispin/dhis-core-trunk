<div id="tabs">
	<ul>
		<li><a href="#tab-1">$i18n.getString("dataelements")</a></li>
		<li><a href="#tab-2">$i18n.getString("program")</a></li>
		<li><a href="#tab-3">$i18n.getString("attributes")</a></li>
		<li><a href="#tab-4">$i18n.getString("constant")</a></li>
	</ul>	
	
	<div id="tab-1">
	  <table>
        <tr>
			<td><label for="dataelement">$i18n.getString( "dataelement" )</label></td>
		</tr>
        <tr>
			<td>
				<input type='text' id='txtSearchValue' name='txtSearchValue' onKeyUp="filterDE(event, this.value, 'dataElements');" style='width:265px;'/>
				<input type='button' value='$i18n.getString("clear")' onClick="setFieldValue('txtSearchValue', '');" style='width:50px'>			
			</td>
        </tr>
        <tr>
			<td>
				<select id="dataElements" name="dataElements" size="8" style="height:120px;" ondblclick="insertDataElement(this);"></select>
			</td>
		</tr>
      </table>
	</div>
	
	<div id="tab-2">
		<table>
			<tr>
				<td><label for="programProperty">$i18n.getString('program_properties')</label></td>
			</tr>
			<tr>
				<td>
					<select id="programProperty" name="programProperty" size="10" ondblclick="insertInfo(this, false);" >
						<option value="V{incident_date}">$i18n.getString( "incident_date" )</option>
						<option value="V{enrollment_date}">$i18n.getString( "date_of_enrollment" )</option>
						<option value="V{current_date}">$i18n.getString( "current_date" )</option>
					</select>
				</td>
			</tr>
		</table>
	</div>

	<div id="tab-3">
		<table>
        <tr>
			<td><label for="attributes">$i18n.getString( "attribute" )</label></td>
		</tr>
        <tr>
			<td>
				<input type='text' id='txtSearchAttrValue' name='txtSearchAttrValue' onKeyUp="filterAttr(event, this.value, 'attributes');" style='width:265px;'/>
				<input type='button' value='$i18n.getString("clear")' onClick="setFieldValue('txtSearchAttrValue', '');" style='width:50px'>			
			</td>
        </tr>
        <tr>
			<td>
				<select id="attributes" name="attributes" size="8" style="height:120px;" ondblclick="insertAttribute(this);">
					#foreach( $programAttribute in $program.programAttributes )
						#if( $programAttribute.attribute.valueType=='number' )
							<option value='$programAttribute.attribute.uid'>$encoder.htmlEncode($programAttribute.attribute.displayName)</option>
						#end
					#end
				</select>
			</td>
		</tr>
      </table>
	</div>
	
	<div id="tab-4">
		<table>
        <tr>
			<td><label for="constant">$i18n.getString( "constant" )</label></td>
		</tr>
        <tr>
			<td>
				<input type='text' id='txtSearchContsValue' name='txtSearchAttrValue' onKeyUp="filterAttr(event, this.value, 'attributes');" style='width:265px;'/>
				<input type='button' value='$i18n.getString("clear")' onClick="setFieldValue('txtSearchAttrValue', '');" style='width:50px'>			
			</td>
        </tr>
        <tr>
			<td>
				<select id="constants" name="constants" size="8" style="height:120px;" ondblclick="insertAttribute(this);">
					#foreach( $constant in $constants )
						<option value='$constant.uid'>$encoder.htmlEncode($constant.displayName)</option>
					#end
				</select>
			</td>
		</tr>
      </table>
	</div>
	
</div>

<tr>
	<td>
		<br/>
		<input type='button' class="small-button" alt="$i18n.getString( 'plus' )" onclick='insertOperator( "+" );' value="+" />
		<input type='button' class="small-button" alt="$i18n.getString( 'minus' )" onclick='insertOperator( "-" );' value="-" />
		<input type='button' class="small-button" alt="$i18n.getString( 'multiply' )" onclick='insertOperator( "*" );' value="*" />
		<input type='button' class="small-button" alt="$i18n.getString( 'divide' )" onclick='insertOperator( "/" );' value="/" />
		&nbsp;&nbsp;&nbsp;
		<input type='button' class="small-button" alt="$i18n.getString( 'left_parent' )" onclick='insertOperator( "(" );' value="(" />
		<input type='button' class="small-button" alt="$i18n.getString( 'right_parent' )" onclick='insertOperator( ")" );' value=")" />
	</td>
</tr>
	
<p></p>
<table>
	
	<tr>
		<td>
			<fieldset>
				<legend>$i18n.getString( "expression" ) <em title="$i18n.getString( "required" )" class="required">*</em></legend>
				<table>
					<tr>
						<td>
							<textarea style="width:660px" id="expression" name="expression" onkeyup='getConditionDescription();' >$!encoder.htmlEncode($!programIndicator.expression)</textarea>
						</td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
	
	<tr>
		<td>
			<fieldset>
				<legend>$i18n.getString( "description" )</legend>
				<div id='aggregationDescription'>$!encoder.htmlEncode($!description)</div>
				<input type="hidden" id="checkExpression" name="checkExpression" title="$i18n.getString('expression_is_not_well_formed')" class="{validate:{required:true}}"  />
			</fieldset>
		</td>
	</tr>
</table>		

<script>
	$('#tabs').tabs();
</script>
