<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <include file="dhis-web-commons.xml" />

    <package name="dhis-web-sms" extends="dhis-web-commons" namespace="/sms">
		
        <action name="index" class="org.hisp.dhis.sms.action.MenuAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/menu.vm</param>
        </action>
		
		<!-- data entry -->
		
                <!-- Added by Chris -->
        <action name="smsinput" class="org.hisp.dhis.sms.input.SMSInput">
            <result name="success" type="velocity">/dhis-web-sms/smssuccess.vm</result>
            <param name="page">/dhis-web-sms/menu.vm</param>
            <result name="error" type="velocity">/dhis-web-sms/smserror.vm</result>
        </action>
        <action name="testsms" class="org.hisp.dhis.sms.action.NoAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/testsms.vm</param>
        </action>
                
                
        <action name="selectOrganisationUnit"
                        class="org.hisp.dhis.sms.dataentry.action.GetOrganisationUnitsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/selectOrganisationUnit.vm</param>
            <result name="selectDataSet" type="redirect">
                /sms/selectDataSet.action?organisationUnitId=${organisationUnitId}
            </result>
            <result name="selectPeriod" type="redirect">
                /sms/selectPeriod.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}
            </result>
        </action>
		
        <action name="selectDataSet"
                        class="org.hisp.dhis.sms.dataentry.action.GetDataSetsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/selectDataSet.vm</param>
            <result name="selectPeriod" type="redirect">
                /sms/selectPeriod.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}
            </result>
        </action>
		
        <action name="selectPeriod"
                        class="org.hisp.dhis.sms.dataentry.action.GetPeriodsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/selectPeriod.vm</param>
        </action>
		
        <action name="dataEntry"
                        class="org.hisp.dhis.sms.dataentry.action.GetDataSetOverviewAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/dataEntryOverview.vm</param>
        </action>
		
        <action name="dataEntrySection"
                        class="org.hisp.dhis.sms.dataentry.action.GetSectionFormAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/dataEntrySection.vm</param>
        </action>
		
        <action name="saveSectionForm"
                        class="org.hisp.dhis.sms.dataentry.action.SaveSectionFormAction">
            <result name="success" type="redirect">
                /sms/dataEntry.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}&amp;periodId=${periodId}&amp;sectionId=${sectionId}&amp;validated=${validated}
            </result>
            <result name="error" type="velocity">/dhis-web-sms/main.vm</result>
            <param name="page">/dhis-web-sms/dataEntrySection.vm</param>
            <param name="requiredAuthorities">
                F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE
            </param>
        </action>
		
        <action name="markComplete"
                        class="org.hisp.dhis.sms.dataentry.action.MarkComplete">
            <result name="success" type="redirect">
                /sms/index.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}&amp;periodId=${periodId}&amp;complete=true
            </result>
        </action>
		
		<!-- Namebased Data Entry -->
		
        <action name="selectNamebasedOrganisationUnit"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.GetNamebasedOrganisationUnitsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/selectNamebasedOrganisationUnits.vm
            </param>
        </action>
		
        <action name="selectActivityType"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.ShowActivityTypeAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/selectActivityType.vm</param>
        </action>
		
        <action name="selectBeneficiary"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.GetBeneficiaryListAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/beneficiaryList.vm</param>
        </action>
		
        <action name="selectActivity"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.GetActivityListAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/selectActivity.vm</param>
        </action>
		
        <action name="showProgramStageForm"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.GetProgramStageFormAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/programStageForm.vm</param>
        </action>
		
        <action name="saveProgramStageForm"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.SaveProgramStageFormAction">
            <result name="success" type="redirect">
                /sms/selectBeneficiary.action?organisationUnitId=${orgUnitId}&amp;current=${current}&amp;validated=true
            </result>
            <result name="error" type="velocity">/dhis-web-sms/main.vm</result>
            <param name="page">/dhis-web-sms/programStageForm.vm</param>
        </action>
		
        <action name="showBeneficiaryDetail"
                        class="org.hisp.dhis.sms.namebaseddataentry.action.GetBeneficiaryDetailAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/beneficiaryDetail.vm</param>
        </action>
		
		<!-- Beneficiary Registration -->
		
        <action name="selectRegistrationOrganisationUnit"
                        class="org.hisp.dhis.sms.beneficiaryregistration.action.GetBeneficiaryRegistrationOrganisationUnitAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/selectRegistrationOrganisationUnits.vm
            </param>
        </action>
		
        <action name="registerBeneficiary"
                        class="org.hisp.dhis.sms.beneficiaryregistration.action.RegisterBeneficiaryAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/beneficiaryRegistrationForm.vm
            </param>
        </action>
		
        <action name="saveBeneficiary"
                        class="org.hisp.dhis.sms.beneficiaryregistration.action.SaveBeneficiaryAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/beneficiaryRegistrationForm.vm
            </param>
        </action>
		
		<!-- Beneficiary Enrollment -->
        <action name="selectEnrollmentOrganisationUnit"
                        class="org.hisp.dhis.sms.beneficiaryenrollment.action.GetBeneficiaryEnrollmentOrganisationUnitAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/selectEnrollmentOrganisationUnits.vm
            </param>
        </action>
		
        <action name="showBeneficiarySearchingForm"
                        class="org.hisp.dhis.sms.beneficiaryenrollment.action.GetBeneficiaryEnrollmentOrganisationUnitAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/beneficiarySearchingForm.vm
            </param>
        </action>
		
        <action name="searchBeneficiary"
                        class="org.hisp.dhis.sms.beneficiaryenrollment.action.SearchBeneficiaryAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">
                /dhis-web-sms/beneficiarySearchResult.vm
            </param>
        </action>
		<!-- Reports -->
		
        <action name="reports"
                        class="org.hisp.dhis.sms.dashboard.action.ProvideContentAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/reports.vm</param>
        </action>
		
        <action name="dashboard-charts"
                        class="org.hisp.dhis.sms.dashboard.action.ProvideContentAction">
            <result name="success" type="velocity">
                /dhis-web-sms/dashboard_page.vm
            </result>
            <param name="page">/dhis-web-sms/dashboard_charts.vm</param>
        </action>
		
        <action name="dashboard-reports"
                        class="org.hisp.dhis.sms.dashboard.action.ProvideContentAction">
            <result name="success" type="velocity">
                /dhis-web-sms/dashboard_page.vm
            </result>
            <param name="page">/dhis-web-sms/dashboard_reports.vm</param>
        </action>
		
        <action name="dashboard-documents"
                        class="org.hisp.dhis.sms.dashboard.action.ProvideContentAction">
            <result name="success" type="velocity">
                /dhis-web-sms/dashboard_page.vm
            </result>
            <param name="page">/dhis-web-sms/dashboard_documents.vm</param>
        </action>
		
        <action name="getReport"
                        class="org.hisp.dhis.sms.dashboard.action.GetReportAction">
            <result name="success" type="velocity">
                /dhis-web-sms/dashboard_page.vm
            </result>
            <param name="page">/dhis-web-commons/ajax/htmlGrid.vm</param>
        </action>
		
        <action name="getReportParams"
                        class="org.hisp.dhis.sms.dashboard.action.GetReportParamsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/dashboard_page.vm
            </result>
            <param name="page">/dhis-web-sms/inputReportParamsForm.vm</param>
        </action>
		
        <action name="getChart"
                        class="org.hisp.dhis.sms.dashboard.action.GetChartAction">
            <result name="success" type="chart">
                <param name="width">480</param>
                <param name="height">800</param>
            </result>
        </action>
		
		<!-- Settings -->
		
        <action name="settings"
                        class="org.hisp.dhis.sms.settings.action.GetSettingsAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/settings.vm</param>
        </action>
		
        <action name="saveSettingsForm"
                        class="org.hisp.dhis.sms.settings.action.SaveSettingsFormAction">
            <result name="success" type="redirect">/sms/index.action</result>
        </action>
		
		<!-- Messages -->
		
        <action name="messages"
                        class="org.hisp.dhis.sms.message.action.GetMessagesAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/messages.vm</param>
        </action>
		
        <action name="reply"
                        class="org.hisp.dhis.sms.message.action.GetMessageAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/message.vm</param>
        </action>
		
        <action name="sendReply"
                        class="org.hisp.dhis.sms.message.action.SendReplyAction">
            <result name="success" type="redirect">
                /sms/messages.action
            </result>
        </action>
		
        <action name="feedback" class="org.hisp.dhis.sms.action.NoAction">
            <result name="success" type="velocity">
                /dhis-web-sms/main.vm
            </result>
            <param name="page">/dhis-web-sms/feedback.vm</param>
        </action>
		
        <action name="sendFeedback"
                        class="org.hisp.dhis.sms.message.action.SendFeedbackAction">
            <result name="success" type="redirect">/sms/index.action</result>
        </action>
		
    </package>
</struts>
