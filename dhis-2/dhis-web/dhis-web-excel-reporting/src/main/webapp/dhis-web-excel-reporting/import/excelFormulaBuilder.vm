<!-- Expression -->

<div id="divExpression" style="display:none;">
	<table width="100%">
		<tr>
			<th>$i18n.getString( "formula" )</th>
			<th></th>
			<th>$i18n.getString( "dataelement" )</th>
		<tr>
		<tr valign="top">
			<td>
				<textarea id="formula" cols="15" rows="11" style="width:250px; height:180px" wrap="virtual">$encoder.htmlEncode( $formula )</textarea><br>
				<a href="#" onclick="insertOperation( 'formula','(' )"><img src="images/left_parent.png" alt="$i18n.getString( 'left_brackets' )"></a>
				<a href="#" onclick="insertOperation( 'formula',')' )"><img src="images/right_parent.png" alt="$i18n.getString( 'right_brackets' )"></a>
				<a href="#" onclick="insertOperation( 'formula','*' )"><img src="images/multiply.png" alt="$i18n.getString( 'multiply' )"></a>
				<a href="#" onclick="insertOperation( 'formula','/' )"><img src="images/divide.png" alt="$i18n.getString( 'divide' )"></a>
				<a href="#" onclick="insertOperation( 'formula','+' )"><img src="images/plus.png" alt="$i18n.getString( 'plus' )"></a>
				<a href="#" onclick="insertOperation( 'formula','-' )"><img src="images/minus.png" alt="$i18n.getString( 'minus' )"></a>
			</td>
			<td valign="bottom">
				<input type="button" value="<" onclick="insertDataElementId()"/>
			</td>
			<td>	
				<select id="dataElementGroup" style="width:280px" onchange="getDataElements(this.value, '#divExpression select[id=elementSelect]')"></select>				
                <select name="select" size="11" id="availableDataElements" style="width:280px">
                </select>				
              <select id="optionCombos" size=4 style="width:280px"></select>	
			</td>
		</tr>	
	</table>	
	<p>
		<input type="button" value="$i18n.getString('ok')" onclick="updateNormalExpression();"/>
		<input type="button" value="$i18n.getString('clean')" onclick="byId('formula').value = ''"/>
		<input type="button" value="$i18n.getString('cancel')" onclick="hideById('divExpression'); unLockScreen();" style="width:100px"/>
	</p>
</div>

<!--  Buil formula for Category Report -->
<div id="divCategory" style="display:none">
	<table width="100%">
		<tr>
			<th>$i18n.getString( "formula" )</th>
			<th></th>
			<th>$i18n.getString( "dataelement" )</th>
		<tr>
		<tr valign="top">
			<td>
				<textarea id="formula" cols="15" rows="11" style="width:250px; height:180px" wrap="virtual"></textarea><br>
				<a href="#" onclick="insertOperation( '(' )"><img src="images/left_parent.png" alt="$i18n.getString( 'left_brackets' )"></a>
				<a href="#" onclick="insertOperation( ')' )"><img src="images/right_parent.png" alt="$i18n.getString( 'right_brackets' )"></a>
				<a href="#" onclick="insertOperation( '*' )"><img src="images/multiply.png" alt="$i18n.getString( 'multiply' )"></a>
				<a href="#" onclick="insertOperation( '/' )"><img src="images/divide.png" alt="$i18n.getString( 'divide' )"></a>
				<a href="#" onclick="insertOperation( '+' )"><img src="images/plus.png" alt="$i18n.getString( 'plus' )"></a>
				<a href="#" onclick="insertOperation( '-' )"><img src="images/minus.png" alt="$i18n.getString( 'minus' )"></a></td>
			<td rowspan="3" valign="bottom">
				<input type="button" value="<" onclick="insertExpression()"/>
			</td>
			<td rowspan="3">	
				<select id="dataElementGroup" style="width:280px" onchange="getDataElements(this.value, '#divCategory select[id=availableDataElements]')"></select>												
				<select id="availableDataElements" size="10" style="width:280px;" onchange="getOptionCombos( this.value, '#divCategory select[id=optionCombos]')"></select>
				<select id="optionCombos" size=4 style="width:280px"></select>					
			</td>			
		</tr>	
	</table>
	<br>
	<br>
	<center>
		<input type="button" value="$i18n.getString('ok')" onclick="updateCaExpression()" style="width:100px"/>
		<input type="button" value="$i18n.getString('clean')" onclick="cleanFormula()" style="width:100px"/>
		<input type="button" value="$i18n.getString('cancel')" onclick="hideById('divCategory'); unLockScreen();" style="width:100px"/>
	</center>
</div>

<script>
	

</script>