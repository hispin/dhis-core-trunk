<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>DHIS2 GIS Plugin</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<link rel="stylesheet" type="text/css" href="../../dhis-web-commons/javascripts/ext/resources/css/ext-all-gray.css"/>
	
	<style>
		body	{font-family: sans-serif; margin: 0 0 0 60px;}
		h1		{font-size: 20px; margin: 30px 0 20px;}
	</style>
</head>

<body style="margin:10px 0 0 30px">

	<h1>MAP BY UID</h1>
	<div id="map1" style="width:700px; height:400px"></div>
	
	<h1>MAP BY CONFIG</h1>
	<div id="map2" style="width:700px; height:400px"></div>

    <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>

    <script type="text/javascript" src="../../dhis-web-commons/javascripts/ext/ext-all.js"></script>
    <script type="text/javascript" src="scripts/openlayers/OpenLayers.js"></script>
    <script type="text/javascript" src="scripts/custom.js"></script>
    
    <script type="text/javascript" src="scripts/core.js"></script>

    <script type="text/javascript" src="scripts/mapfish/MapFish.js"></script>
    <script type="text/javascript" src="scripts/mapfish/core/Color.js"></script>
    <script type="text/javascript" src="scripts/mapfish/core/Util.js"></script>
    <script type="text/javascript" src="scripts/mapfish/core/GeoStat.js"></script>
    <script type="text/javascript" src="scripts/mapfish/core/GeoStat/all.js"></script>

    <script type="text/javascript" src="scripts/plugin.js"></script>

	<script type="text/javascript">
		Ext.onReady( function() {
			var url = "http://localhost:8080/";

			GIS.getMap({
				url: url,
				el: "map1",
				id: "ytkZY3ChM6J"
			});

			GIS.getMap({
				url: url,
				el: "map2",
				mapViews: [{
					columns: [{dimension: 'in', items: [{id: 'Uvn6LCg7dVU'}]}], // data
					rows: [{dimension: 'ou', items: [{id: 'LEVEL-3'}, {id: 'ImspTQPwCqd'}]}], // organisation units
					filters: [{dimension: 'pe', items: [{id: 'LAST_3_MONTHS'}]}], // period
					classes: 7,
					colorLow: '02079c',
					colorHigh: 'e5ecff',
					opacity: 0.9
					//legendSet: {id: 'fqs276KXCXi'}
				}]
			});

		});

	</script>
</body>

</html>
