<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
  <include file="dhis-web-commons.xml" />

	<package name="dhis-web-light" extends="dhis-web-commons" namespace="/mobile">
		
		<action name="index" class="org.hisp.dhis.light.action.MenuAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/menu.vm</param>
		</action>
		
		<!-- data entry -->
		
		<action name="selectOrganisationUnit"
			class="org.hisp.dhis.light.dataentry.action.GetOrganisationUnitsAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/selectOrganisationUnit.vm</param>
			<result name="selectDataSet" type="redirect">
				/mobile/selectDataSet.action?organisationUnitId=${organisationUnitId}</result>
			<result name="selectPeriod" type="redirect">
				/mobile/selectPeriod.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}</result>
		</action>
		
		<action name="selectDataSet"
			class="org.hisp.dhis.light.dataentry.action.GetDataSetsAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/selectDataSet.vm</param>
			<result name="selectPeriod" type="redirect">
				/mobile/selectPeriod.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}</result>
		</action>
		
		<action name="selectPeriod"
			class="org.hisp.dhis.light.dataentry.action.GetPeriodsAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/selectPeriod.vm</param>
		</action>
		
		<action name="dataEntry"
			class="org.hisp.dhis.light.dataentry.action.GetDataSetOverviewAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/dataEntryOverview.vm</param>
		</action>
		
		<action name="dataEntrySection"
			class="org.hisp.dhis.light.dataentry.action.GetSectionFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/dataEntrySection.vm</param>
		</action>
		
		<action name="saveSectionForm"
			class="org.hisp.dhis.light.dataentry.action.SaveSectionFormAction">
			<result name="success" type="redirect">
				/mobile/dataEntry.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}&amp;periodId=${periodId}&amp;sectionId=${sectionId}&amp;validated=${validated}</result>
			<result name="error" type="velocity">/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/dataEntrySection.vm</param>
			<param name="requiredAuthorities">
				F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE</param>
		</action>
		
		<action name="markComplete"
			class="org.hisp.dhis.light.dataentry.action.MarkComplete">
			<result name="success" type="redirect">
				/mobile/index.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}&amp;periodId=${periodId}&amp;complete=true</result>
		</action>
		
		<!-- Namebased Data Entry -->
		
		<action name="trackingMenu"
			class="org.hisp.dhis.light.action.NoAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/trackingMenu.vm</param>
		</action>
		
		<action name="selectNamebasedOrganisationUnit"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetNamebasedOrganisationUnitsAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/selectNamebasedOrganisationUnits.vm</param>
		</action>
		
		<action name="selectActivityType"
			class="org.hisp.dhis.light.namebaseddataentry.action.ShowActivityTypeAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/selectActivityType.vm</param>
		</action>
		
		<action name="selectBeneficiary"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetBeneficiaryListAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/beneficiaryList.vm</param>
		</action>
		
		<action name="selectActivity"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetActivityListAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/selectActivity.vm</param>
		</action>
		
		<action name="showProgramStageForm"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetProgramStageFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/programStageForm.vm</param>
		</action>
		
		<action name="showCompletedProgramStageForm"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetProgramStageFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/completedProgramStageForm.vm</param>
		</action>
		
		<action name="saveProgramStageForm"
			class="org.hisp.dhis.light.namebaseddataentry.action.SaveProgramStageFormAction">
			<result name="success" type="redirect">
				/mobile/selectBeneficiary.action?organisationUnitId=${orgUnitId}&amp;current=${current}&amp;validated=true</result>
			<result name="success_back_to_programstage" type="redirect">
				/mobile/showPatientProgramStageList.action?patientId=${patientId}&amp;programInstanceId=${programInstanceId}&amp;programId=${programId}&amp;validated=true</result>
			<result name="error" type="velocity">/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/programStageForm.vm</param>
		</action>
		
		<action name="showBeneficiaryDetail"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetBeneficiaryDetailAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/beneficiaryDetail.vm</param>
		</action>
		
		<action name="showBeneficiaryDetailInSearchPage"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetBeneficiaryDetailAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/namebased/beneficiaryDetail.vm</param>
			<param name="previouspage">showPatientProgramList.action?patientId=${patientId}</param>
		</action>
		
		<action name="showFindBeneficiaryForm"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetFindBeneficiaryFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/findBeneficiaryForm.vm</param>
		</action>
		
		<action name="findBeneficiary"
			class="org.hisp.dhis.light.namebaseddataentry.action.FindBeneficiarytAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/beneficiaryList.vm</param>
		</action>
		
		<action name="showPatientProgramList"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetPatientProgramListAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/beneficiaryProgramList.vm</param>
		</action>
		
		<action name="showPatientProgramStageList"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetProgramStageListAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/beneficiaryProgramStageList.vm</param>
		</action>
		
		<action name="showRepeatableEventRegistrationForm"
			class="org.hisp.dhis.light.namebaseddataentry.action.GetRepeatableEventRegistrationFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/namebased/repeatableEventRegistrationForm.vm</param>
		</action>
		
		<action name="saveRepeatableEvent"
			class="org.hisp.dhis.light.namebaseddataentry.action.SaveRepeatableEventAction">
			<result name="success" type="redirect">showPatientProgramStageList.action?patientId=${patientId}&amp;programInstanceId=${programInstanceId}&amp;programId=${programId}&amp;validated=false</result>
		</action>
		
		<!-- Beneficiary Registration -->
		
		<action name="selectRegistrationOrganisationUnit"
			class="org.hisp.dhis.light.beneficiaryregistration.action.GetBeneficiaryRegistrationOrganisationUnitAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/registration/selectRegistrationOrganisationUnits.vm</param>
		</action>
		
		<action name="registerBeneficiary"
			class="org.hisp.dhis.light.beneficiaryregistration.action.RegisterBeneficiaryAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/registration/beneficiaryRegistrationForm.vm</param>
		</action>
		
		<action name="saveBeneficiary"
			class="org.hisp.dhis.light.beneficiaryregistration.action.SaveBeneficiaryAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/registration/beneficiaryRegistrationForm.vm</param>
		</action>
		
		<!-- Beneficiary Enrollment -->
		
		<action name="selectEnrollmentOrganisationUnit"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.GetBeneficiaryEnrollmentOrganisationUnitAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/enrollment/selectEnrollmentOrganisationUnits.vm</param>
		</action>
		
		<action name="showBeneficiarySearchingForm"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.GetBeneficiaryEnrollmentOrganisationUnitAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">
				/dhis-web-light/enrollment/beneficiarySearchingForm.vm</param>
		</action>
		
		<action name="searchBeneficiary"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.SearchBeneficiaryAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page"> /dhis-web-light/enrollment/beneficiarySearchResult.vm</param>
		</action>
		
		<action name="selectEnrollmentProgram"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.GetEnrollmentProgramListAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page"> /dhis-web-light/enrollment/enrollmentProgramList.vm</param>
		</action>
		
		<action name="showProgramEnrollmentForm"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.GetProgramEnrollmentFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page"> /dhis-web-light/enrollment/programEnrollmentForm.vm</param>
		</action>
		
		<action name="saveMobileProgramEnrollment"
			class="org.hisp.dhis.light.beneficiaryenrollment.action.SaveMobileProgramEnrollmentAction">
			<result name="success" type="redirect">
				/mobile/selectEnrollmentProgram.action?patientId=${patientId}&amp;validated=true</result>
			<result name="error" type="velocity">/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/enrollment/programEnrollmentForm.vm</param>
		</action>
		
		<!-- Single Event -->
		
		<action name="selectSingleEvent"
			class="org.hisp.dhis.light.singleevent.action.GetSingleEventAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/singleevent/selectSingleEvent.vm</param>
		</action>
		
		<action name="selectSingleEventBeneficiary"
			class="org.hisp.dhis.light.singleevent.action.GetSingleEventBeneficiaryAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/singleevent/selectSingleEventBeneficiary.vm</param>
		</action>
		
		<action name="showSingleEventForm"
			class="org.hisp.dhis.light.singleevent.action.GetSingleEventFormAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/singleevent/singleEventForm.vm</param>
		</action>
		
		<action name="saveSingleEvent"
			class="org.hisp.dhis.light.singleevent.action.SaveSingleEventAction">
			<result name="success" type="redirect">
				/mobile/selectSingleEventBeneficiary.action?programId=${programId}&amp;organisationUnitId=${organisationUnitId}&amp;validated=true</result>
			<result name="error" type="velocity">/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/singleevent/singleEventForm.vm</param>
		</action>
		
		<!-- Reports -->
		
		<action name="reports"
			class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/reports.vm</param>
		</action>
		
		<action name="dashboard-charts"
			class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
			<result name="success" type="velocity">
				/dhis-web-light/dashboard_page.vm</result>
			<param name="page">/dhis-web-light/dashboard_charts.vm</param>
		</action>
		
		<action name="dashboard-reports"
			class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
			<result name="success" type="velocity">
				/dhis-web-light/dashboard_page.vm</result>
			<param name="page">/dhis-web-light/dashboard_reports.vm</param>
		</action>
		
		<action name="dashboard-documents"
			class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
			<result name="success" type="velocity">
				/dhis-web-light/dashboard_page.vm</result>
			<param name="page">/dhis-web-light/dashboard_documents.vm</param>
		</action>
		
		<action name="getReport"
			class="org.hisp.dhis.light.dashboard.action.GetReportAction">
			<result name="success" type="velocity">
				/dhis-web-light/dashboard_page.vm</result>
			<param name="page">/dhis-web-commons/ajax/htmlGrid.vm</param>
		</action>
		
		<action name="getReportParams"
			class="org.hisp.dhis.light.dashboard.action.GetReportParamsAction">
			<result name="success" type="velocity">
				/dhis-web-light/dashboard_page.vm</result>
			<param name="page">/dhis-web-light/inputReportParamsForm.vm</param>
		</action>
		
		<action name="getChart"
			class="org.hisp.dhis.light.dashboard.action.GetChartAction">
			<result name="success" type="chart">
				<param name="width">480</param>
				<param name="height">800</param>
			</result>
		</action>
		
		<!-- Settings -->
		
		<action name="settings"
			class="org.hisp.dhis.light.settings.action.GetSettingsAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/settings.vm</param>
		</action>
		
		<action name="saveSettingsForm"
			class="org.hisp.dhis.light.settings.action.SaveSettingsFormAction">
			<result name="success" type="redirect">/mobile/index.action</result>
		</action>
		
		<!-- Messages -->
		
		<action name="messages"
			class="org.hisp.dhis.light.message.action.GetMessagesAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/messages.vm</param>
		</action>
		
		<action name="reply"
			class="org.hisp.dhis.light.message.action.GetMessageAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/message.vm</param>
		</action>
		
		<action name="sendReply"
			class="org.hisp.dhis.light.message.action.SendReplyAction">
			<result name="success" type="redirect">
				/mobile/messages.action</result>
		</action>
		
		<action name="feedback" class="org.hisp.dhis.light.action.NoAction">
			<result name="success" type="velocity">
				/dhis-web-light/main.vm</result>
			<param name="page">/dhis-web-light/feedback.vm</param>
		</action>
		
		<action name="sendFeedback"
			class="org.hisp.dhis.light.message.action.SendFeedbackAction">
			<result name="success" type="redirect">/mobile/index.action</result>
		</action>
		
	</package>
</struts>
