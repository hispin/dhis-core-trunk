<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
  <include file="dhis-web-commons.xml" />

  <package name="dhis-web-light" extends="dhis-web-commons" namespace="/mobile">

    <action name="index" class="org.hisp.dhis.light.action.NoAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/menu.vm</param>
    </action>

    <!-- data entry -->

    <action name="selectOrganisationUnit" class="org.hisp.dhis.light.dataentry.action.GetOrganisationUnitsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectOrganisationUnit.vm</param>
    </action>

    <action name="selectDataSet" class="org.hisp.dhis.light.dataentry.action.GetDataSetsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectDataSet.vm</param>
    </action>

    <action name="selectPeriod" class="org.hisp.dhis.light.dataentry.action.GetPeriodsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectPeriod.vm</param>
    </action>

    <action name="dataEntry" class="org.hisp.dhis.light.dataentry.action.GetSectionFormAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/dataEntry.vm</param>
    </action>

    <action name="saveSectionForm" class="org.hisp.dhis.light.dataentry.action.SaveSectionFormAction">
      <result name="success" type="redirect">/mobile/selectPeriod.action?organisationUnitId=${organisationUnitId}&amp;dataSetId=${dataSetId}&amp;validated=${validated}&amp;complete=${complete}</result>
      <result name="error" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/dataEntry.vm</param>
      <param name="requiredAuthorities">F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE</param>
    </action>

    <!-- Reports -->

    <action name="reports" class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/reports.vm</param>
    </action>

    <action name="dashboard-charts" class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/dashboard_charts.vm</param>
    </action>

    <action name="dashboard-reports" class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/dashboard_reports.vm</param>
    </action>

    <action name="dashboard-documents" class="org.hisp.dhis.light.dashboard.action.ProvideContentAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/dashboard_documents.vm</param>
    </action>

    <action name="getReport" class="org.hisp.dhis.light.dashboard.action.GetReportAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-commons/ajax/htmlGrid.vm</param>
    </action>

    <action name="getReportParams" class="org.hisp.dhis.light.dashboard.action.GetReportParamsAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/inputReportParamsForm.vm</param>
    </action>

    <action name="getChart" class="org.hisp.dhis.light.dashboard.action.GetChartAction">
      <result name="success" type="chart">
        <param name="width">480</param>
        <param name="height">800</param>
      </result>
    </action>

    <!-- Settings -->

    <action name="settings" class="org.hisp.dhis.light.action.settings.action.GetSettingsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/settings.vm</param>
    </action>

    <action name="saveSettingsForm" class="org.hisp.dhis.light.action.settings.action.SaveSettingsFormAction">
      <result name="success" type="redirect">/mobile/index.action</result>
    </action>
    
    <!-- Single Events -->
	
	<action name="selectOrgUnitSingleEvents" class="org.hisp.dhis.light.singleevents.action.GetSelectOrgUnitSingleEventsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/selectOrgUnitSingleEvents.vm</param>
    </action>
    
    <action name="singleEvents" class="org.hisp.dhis.light.singleevents.action.GetSingleEventsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/singleEvents.vm</param>
    </action>
    
    <action name="getSingleEventChoices" class="org.hisp.dhis.light.singleevents.action.GetSingleEventChoicesAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/singleEventChoices.vm</param>
    </action>
    
    <action name="getBeneficiaryChoices" class="org.hisp.dhis.light.singleevents.action.GetBeneficiaryChoicesAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/beneficiaryChoices.vm</param>
    </action>
    
    <action name="registerNewBeneficiary" class="org.hisp.dhis.light.singleevents.action.RegisterNewBeneficiaryAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/newBeneficiary.vm</param>
    </action>
	
	<action name="addBeneficiary" class="org.hisp.dhis.light.singleevents.action.AddBeneficiaryAction">
      <result name="success" type="redirect">/mobile/newSingleEvent.action?organisationUnitId=${organisationUnitId}&amp;patientId=${patientId}&amp;singleEventId=${singleEventId}&amp;update=false&amp;resultString=newSingleEvent</result>
      <result name="error" type="velocity">/dhis-web-light/main.vm</result>
	  <param name="page">/dhis-web-light/singleevents/newBeneficiary.vm</param>
	</action>
	
	<action name="newSingleEvent" class="org.hisp.dhis.light.singleevents.action.RegisterNewSingleEventAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/newSingleEvent.vm</param>
    </action>
	
    <action name="addSingleEvent" class="org.hisp.dhis.light.singleevents.action.AddSingleEventAction">
      <result name="success" type="redirect">/mobile/resultPage.action?organisationUnitId=${organisationUnitId}&amp;patientId=${patientId}&amp;singleEventId=${singleEventId}&amp;resultString=${resultString}</result>
      <result name="error" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/newSingleEvent.vm</param>
    </action>
    
   	<action name="resultPage" class="org.hisp.dhis.light.singleevents.action.RenderResultPageAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/singleEventResultPage.vm</param>
    </action>
    
    <action name="updateBeneficiary" class="org.hisp.dhis.light.singleevents.action.UpdateBeneficiaryAction">
      <result name="success" type="redirect">/mobile/resultPage.action?organisationUnitId=${organisationUnitId}&amp;patientId=${patient.getId()}&amp;singleEventId=${singleEventId}&amp;resultString=updateBeneficiary</result>
      <result name="error" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/editBeneficiary.vm</param>
    </action>
    
    <action name="editBeneficiary" class="org.hisp.dhis.light.singleevents.action.EditBeneficiaryAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/editBeneficiary.vm</param>
    </action>
    
    <action name="GetRecentlyRegisteredSingleEvents" class="org.hisp.dhis.light.singleevents.action.GetRecentlyRegisteredSingleEventsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/recentlyRegisteredSingleEvents.vm</param>
    </action>
    
    <action name="EditRecentlyRegistered" class="org.hisp.dhis.light.singleevents.action.GetRecentlyEditChoicesAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/singleevents/recentlyEditChoices.vm</param>
    </action>

  </package>
</struts>
