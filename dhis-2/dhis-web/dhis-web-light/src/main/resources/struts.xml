<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
  <include file="dhis-web-commons.xml" />

  <package name="dhis-web-light" extends="dhis-web-commons" namespace="/dhis-web-light">

    <action name="index" class="org.hisp.dhis.light.action.NoAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/menu.vm</param>
    </action>

    <!-- data entry -->

    <action name="selectOrganisationUnit" class="org.hisp.dhis.light.action.dataentry.GetOrganisationUnitsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectOrganisationUnit.vm</param>
    </action>

    <action name="selectDataSet" class="org.hisp.dhis.light.action.dataentry.GetDataSetsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectDataSet.vm</param>
    </action>

    <action name="selectPeriod" class="org.hisp.dhis.light.action.dataentry.GetPeriodsAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/selectPeriod.vm</param>
    </action>

    <action name="dataEntry" class="org.hisp.dhis.light.action.dataentry.GetSectionFormAction">
      <result name="success" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/dataEntry.vm</param>
    </action>

    <action name="saveSectionForm" class="org.hisp.dhis.light.action.dataentry.SaveSectionFormAction">
      <result name="success" type="redirect">/dhis-web-light/index.action</result>
      <result name="error" type="velocity">/dhis-web-light/main.vm</result>
      <param name="page">/dhis-web-light/dataEntry.vm</param>
    </action>

    <!-- dashboard -->

    <action name="dashboard" class="org.hisp.dhis.light.action.dashboard.ProvideContentAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/dashboard.vm</param>
    </action>

    <action name="getReport" class="org.hisp.dhis.light.action.dashboard.GetReportAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-commons/ajax/htmlGrid.vm</param>
    </action>

    <action name="getReportParams" class="org.hisp.dhis.light.action.dashboard.GetReportParamsAction">
      <result name="success" type="velocity">/dhis-web-light/dashboard_page.vm</result>
      <param name="page">/dhis-web-light/inputReportParamsForm.vm</param>
    </action>

    <action name="getChart" class="org.hisp.dhis.light.action.dashboard.GetChartAction">
      <result name="success" type="chart">
        <param name="width">480</param>
        <param name="height">800</param>
      </result>
    </action>

  </package>
</struts>