<table style='width: 50%;'>
    <tr>
        <td>
            {{selectedProgramStage.reportDateDescription ? selectedProgramStage.reportDateDescription : 'incident_date' | translate }}
        </td>
        <td>
            <input type="text"                                                   
                    placeholder="yyyy-mm-dd" 
                    ng-date 
                    ng-model="currentEvent.eventDate"
                    ng-disabled="editingEventInFull"    
                    ng-required="true" 
                    name="eventDate"
                    style="width:99%;"/>
            <span ng-show="outerForm.submitted && outerForm.eventDate.$invalid" class="required">{{'required'| translate}}</span>
        </td>
    </tr>
    <tr ng-if="selectedProgramStage.captureCoordinates">
        <td>
            {{'latitude' | translate}}
        </td>
        <td>
            <input type="number"
                   ng-model="currentEvent.coordinate.latitude"                                                                
                   name="latitude"
                   min="-90"
                   max="90"
                   ng-required="false"
                   style="width:99%;"/>
            <span ng-show="outerForm.submitted && outerForm.latitude.$invalid" class="required">{{'number_required'| translate}} [-90 ... 90]</span>
        </td>                                            
    </tr>
    <tr ng-if="selectedProgramStage.captureCoordinates">
        <td>
            {{'longitude' | translate}}
        </td>
        <td>
            <input type="number"
                   ng-model="currentEvent.coordinate.longitude"                                                                
                   name="longitude" 
                   min="-180"
                   max="180"
                   ng-required="false"
                   style="width:99%;"/>
            <span ng-show="outerForm.submitted && outerForm.longitude.$invalid" class="required">{{'number_required'| translate}}[-180 ... 180]</span>
        </td>                                            
    </tr>
</table>                            
<hr>                            
<dhis-custom-form custom-form-type="PROGRAM_STAGE" custom-form-object="selectedProgramStage"></dhis-custom-form>
<div class="clear">
    <hr>
    <textarea rows="3" ng-model="note.value" placeholder="{{'add_your_comment_here'| translate}}" style="width:50%;"></textarea>
    <table class="dhis2-list-table-striped" style='width: 50%;'>     
        <tr ng-repeat="note in currentEvent.notes">
            <td colspan="2" class="over-flow-hidden" style="width:99.5%;">
                <d2-pop-over content="note" template="note.html" details="{{'details'| translate}}">
                    <div>{{note.value}}</div>
                </d2-pop-over>
                <script type="text/ng-template" id="note.html">
                    <p>{{content.value}}</p>
                    <hr>
                    <p><strong>{{'created_by' | translate}}: </strong>{{content.storedBy}}</p>
                    <p><strong>{{'date' | translate}}: </strong>{{content.storedDate}}</p>                           
                </script>
            </td>
        </tr>
    </table>
</div>