<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

  <!-- Resource -->

  <bean id="org.hisp.dhis.web.api.resources.MobileResource" class="org.hisp.dhis.web.api.resources.MobileResource"
    scope="prototype">
    <property name="currentUserService" ref="org.hisp.dhis.user.CurrentUserService" />
    <property name="organisationUnitService" ref="org.hisp.dhis.organisationunit.OrganisationUnitService" />
  </bean>

  <bean id="org.hisp.dhis.web.api.resources.OrgUnitResource" class="org.hisp.dhis.web.api.resources.OrgUnitResource"
    scope="prototype">
    <property name="facilityReportingService" ref="org.hisp.dhis.web.api.service.FacilityReportingService" />
    <property name="activityReportingService" ref="org.hisp.dhis.web.api.service.ActivityReportingService" />
    <property name="programService" ref="org.hisp.dhis.web.api.service.IProgramService" />
  </bean>

  <!-- Services -->

  <bean id="org.hisp.dhis.web.api.service.FacilityReportingService" class="org.hisp.dhis.web.api.service.FacilityReportingServiceImpl">
    <property name="dataSetService" ref="org.hisp.dhis.dataset.DataSetService" />
    <property name="i18nService" ref="org.hisp.dhis.i18n.I18nService" />
    <property name="periodService" ref="org.hisp.dhis.period.PeriodService" />
    <property name="categoryService" ref="org.hisp.dhis.dataelement.DataElementCategoryService" />
    <property name="dataValueService" ref="org.hisp.dhis.datavalue.DataValueService" />
  </bean>

  <bean id="org.hisp.dhis.web.api.service.ActivityReportingService" class="org.hisp.dhis.web.api.service.ActivityReportingServiceImpl">
    <property name="activityPlanService" ref="org.hisp.dhis.activityplan.ActivityPlanService" />
    <property name="patientAttValueService" ref="org.hisp.dhis.patientattributevalue.PatientAttributeValueService" />
    <property name="patientAttService" ref="org.hisp.dhis.patient.PatientAttributeService" />
    <property name="currentUserService" ref="org.hisp.dhis.user.CurrentUserService" />
    <property name="programStageInstanceService" ref="org.hisp.dhis.program.ProgramStageInstanceService" />
    <property name="categoryService" ref="org.hisp.dhis.dataelement.DataElementCategoryService" />
    <property name="dataValueService" ref="org.hisp.dhis.patientdatavalue.PatientDataValueService" />
  </bean>

  <bean id="org.hisp.dhis.web.api.service.IProgramService" class="org.hisp.dhis.web.api.service.DefaultProgramService">
    <property name="programService" ref="org.hisp.dhis.program.ProgramService" />
    <property name="i18nService" ref="org.hisp.dhis.i18n.I18nService" />
  </bean>

  <!-- Jax-RS serialization writers and readers -->

  <bean id="org.hisp.dhis.web.api.provider.DataSerializableProvider" class="org.hisp.dhis.web.api.provider.DataStreamSerializableProvider"
    scope="singleton" />
	
  <bean id="org.hisp.dhis.web.api.consumer.DataSetValueConsumer" class="org.hisp.dhis.web.api.provider.DataSetValueConsumer"
    scope="singleton" />

  <bean id="org.hisp.dhis.web.api.consumer.ActivityValueConsumer" class="org.hisp.dhis.web.api.provider.ActivityValueConsumer"
    scope="singleton" />

  <!-- ImportDataValue beans -->

  <bean id="org.hisp.dhis.web.api.action.ImportDataValueAction" class="org.hisp.dhis.web.api.action.ImportDataValueAction">

    <property name="programStageInstanceService">
      <ref bean="org.hisp.dhis.program.ProgramStageInstanceService" />
    </property>
    <property name="patientDataValueService">
      <ref bean="org.hisp.dhis.patientdatavalue.PatientDataValueService" />
    </property>
    <property name="dataElementService">
      <ref bean="org.hisp.dhis.dataelement.DataElementService" />
    </property>
    <property name="orgUnitService">
      <ref bean="org.hisp.dhis.organisationunit.OrganisationUnitService" />
    </property>
    <property name="dataElementCategoryService">
      <ref bean="org.hisp.dhis.dataelement.DataElementCategoryService" />
    </property>

  </bean>

</beans>

