<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

	<include file="dhis-web-commons.xml" />

	<package name="dhis-web-dataentry" extends="dhis-web-commons"
		namespace="/dhis-web-dataentry">

		<action name="index" class="org.hisp.dhis.de.action.EmptyAction">
			<result name="success" type="redirect">select.action
			</result>
		</action>

		<action name="select" class="org.hisp.dhis.de.action.SelectAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="sectionform" type="chain">sectionform</result>
			<result name="multidimensionalform" type="chain">multidimensionalform</result>
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-dataentry/select.vm</param>
			<param name="menu">/dhis-web-dataentry/menu.vm</param>
			<param name="menuTreeHeight">420</param>
			<param name="javascripts">
				../dhis-web-commons/ouwt/ouwt.js,
				javascript/general.js,
				javascript/form.js
			</param>
			<param name="stylesheets">style/dhis-web-dataentry.css</param>
		</action>

		<action name="nextPeriods" class="org.hisp.dhis.de.action.NextPeriodsAction">
			<result name="success" type="redirect">select.action
			</result>
		</action>

		<action name="previousPeriods" class="org.hisp.dhis.de.action.PreviousPeriodsAction">
			<result name="success" type="redirect">select.action
			</result>
		</action>

		<action name="sectionform" class="org.hisp.dhis.de.action.SectionFormAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-dataentry/sectionForm.vm</param>
			<param name="menu">/dhis-web-dataentry/menu.vm</param>
			<param name="menuTreeHeight">420</param>
			<param name="javascripts">
				../dhis-web-commons/ouwt/ouwt.js,				
				javascript/general.js,javascript/form.js,
				javascript/section.js,javascript/multidimensional.js,
				../dhis-web-commons/calendar/calendar.js,
				../dhis-web-commons/calendar/calendar-lang.js,
				../dhis-web-commons/calendar/calendar-setup.js
			</param>
			<param name="stylesheets">style/dhis-web-dataentry.css</param>
		</action>

		<action name="multidimensionalform"
			class="org.hisp.dhis.de.action.FormAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-dataentry/form.vm</param>
			<param name="menu">/dhis-web-dataentry/menu.vm</param>
			<param name="menuTreeHeight">420</param>
			<param name="javascripts">
				../dhis-web-commons/ouwt/ouwt.js,
				javascript/general.js,javascript/form.js,javascript/multidimensional.js,
				../dhis-web-commons/calendar/calendar.js,
				../dhis-web-commons/calendar/calendar-lang.js,
				../dhis-web-commons/calendar/calendar-setup.js
			</param>
			<param name="stylesheets">style/dhis-web-dataentry.css</param>
		</action>

		<action name="saveMultiDimensionalValue"
			class="org.hisp.dhis.de.action.SaveValueAction">
			<result name="success" type="velocity">status.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE</param>
		</action>

		<action name="saveComment" class="org.hisp.dhis.de.action.SaveCommentAction">
			<result name="success" type="velocity">status.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE</param>
		</action>

		<action name="saveMinMaxLimits" class="org.hisp.dhis.de.action.SaveMinMaxLimitsAction">
			<result name="success" type="httpheader">
				<param name="status">204</param>
			</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAELEMENT_MINMAX_ADD,F_DATAELEMENT_MINMAX_UPDATE</param>
		</action>

		<action name="removeMinMaxLimits" class="org.hisp.dhis.de.action.RemoveMinMaxLimitsAction">
			<result name="success" type="httpheader">
				<param name="status">204</param>
			</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAELEMENT_MINMAX_DELETE</param>
		</action>

		<action name="calculateCDEs" class="org.hisp.dhis.de.action.CalculateCDEsAction">
			<result name="success" type="velocity-xml">responseCalculateCDEs.vm
			</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAVALUE_ADD,F_DATAVALUE_UPDATE,F_DATAVALUE_DELETE</param>
		</action>

		<action name="viewHistory" class="org.hisp.dhis.de.action.HistoryAction">
			<result name="success" type="velocity">/popup.vm</result>
			<param name="page">/dhis-web-dataentry/history.vm</param>
			<param name="javascripts">javascript/history.js</param>
		</action>

		<action name="minMaxGeneration" class="org.hisp.dhis.de.action.MinMaxGeneratingAction">
			<result name="success" type="velocity-xml">responseMinMaxGeneration.vm
			</result>
			<param name="onExceptionReturn">plainTextError</param>
			<param name="requiredAuthorities">F_DATAELEMENT_MINMAX_ADD,F_DATAELEMENT_MINMAX_UPDATE</param>
		</action>

		<action name="registerCompleteDataSet"
			class="org.hisp.dhis.de.action.RegisterCompleteDataSetAction">
			<result name="success" type="velocity">
				/dhis-web-dataentry/responseVoid.vm</result>
			<result name="input" type="velocity-xml">
				/dhis-web-dataentry/responseInput.vm</result>
		</action>

		<action name="undoCompleteDataSet"
			class="org.hisp.dhis.de.action.UndoCompleteDataSetAction">
			<result name="success" type="velocity">
				/dhis-web-dataentry/responseVoid.vm</result>
		</action>

		<action name="validate" class="org.hisp.dhis.de.action.ValidationAction">
			<result name="success" type="velocity">/popup.vm</result>
			<result name="none" type="velocity">/popup.vm</result>
			<param name="page">/dhis-web-dataentry/validationResult.vm</param>
		</action>

		<action name="getValidationViolations" class="org.hisp.dhis.de.action.ValidationAction">
			<result name="success" type="velocity-xml">
				/dhis-web-dataentry/responseSuccess.vm</result>
			<result name="none" type="velocity-xml">/dhis-web-dataentry/responseNone.vm
			</result>
		</action>

		<action name="markValueForFollowup" class="org.hisp.dhis.de.action.MarkForFollowupAction">
			<result name="success" type="velocity-xml">
				/dhis-web-dataentry/responseSuccess.vm</result>
		</action>

		<action name="getHistoryChart" class="org.hisp.dhis.de.action.GetHistoryChartAction">
			<result name="success" type="chart"></result>
		</action>

	</package>
</struts>
