<link rel="stylesheet" type="text/css" href="lib/bootstrap/css/bootstrap.min.css">

<div class="container-1-1">

    <div class="col-xs-12">
        <div class="btn-toolbar" role="toolbar">
            <button type="button" class="btn btn-default" ng-click="back()">{{'back'| translate}}</button>
            <span class="horizonal-spacing">
                <input type="text" placeholder="{{'search_for_dashboard'| translate}}" />
                <button type="button" class="btn btn-default" ng-click="searchDashboard()">{{'search'| translate}}</button>
            </span>

            <!--<button type="button" class="btn btn-default" ng-click="remove()">{{'remove'| translate }} {{selectedProgram.trackedEntity.name|| 'entity' | translate}}</button>-->
        </div>
    </div>

    <div class='clearfix separator'></div>

    <div class='col-xs-12'>
        <div class="row">
            <div class="col-sm-3 col-md-3"> 
                <accordion>
                    <accordion-group is-open="{{selected.isOpen}}">
                        <accordion-heading>
                            <span class="list-title">{{selected.title| translate}}</span>
                        </accordion-heading>
                        <div class="list-element-container">
                            <div class="list-element" ng-repeat="selection in selected.selections"> 
                                {{selection.title| translate}}
                                <span class="right">
                                    {{selection.value| translate}}
                                </span>
                            </div>
                        </div>
                    </accordion-group>
                </accordion>                
            </div>
            <div class="col-sm-3 col-md-3">
                <accordion>
                    <accordion-group is-open="{{profile.isOpen}}">
                        <accordion-heading>
                            <span class="list-title"> {{selectedProgram.trackedEntity.name|| 'entity' | translate}} {{profile.title| translate}}</span>
                        </accordion-heading>
                        <div>
                            <div class="list-element" ng-repeat="attribute in selectedEntity.attributes">
                                {{attribute.displayName}}
                                <div class="right">
                                    <div ng-switch="attribute.type">
                                        <div ng-switch-when="date">
                                            <input type="text" ng-date ng-model="attribute.value" value="attribute.value | date:'yyyy-MM-dd"/>
                                        </div>
                                        <div ng-switch-when="trueOnly">
                                            <input type="checkbox" ng-model="attribute.value" />
                                        </div>
                                        <div ng-switch-when="bool">
                                            <select ng-model="attribute.value" />
                                            <option value="">{{'please_select'| translate}}</option>                        
                                            <option value="0">{{'no'| translate}}</option>
                                            <option value="1">{{'yes'| translate}}</option>
                                            </select>
                                        </div>
                                        <div ng-switch-when="combo">
                                            <input type="text" 
                                                   ng-model="attribute.value"                                                 
                                                   typeahead="option.name for option in attributes[attribute.attribute].personAttributeOptions | filter:$viewValue | limitTo:20" 
                                                   typeahead-open-on-focus 
                                                   />
                                        </div>
                                        <div ng-switch-when="number">
                                            <input type="number" ng-model="attribute.value" />
                                        </div>
                                        <div ng-switch-default>
                                            <input type="text" ng-model="attribute.value" />                                        
                                        </div>
                                    </div>                                                                                                    
                                </div>
                            </div>
                        </div>                        
                    </accordion-group>
                </accordion>                
            </div>
            <div class="col-sm-3 col-md-3">
                <accordion>
                    <accordion-group is-open="{{enrollment.isOpen}}">
                        <accordion-heading>
                            <span class="list-title">{{enrollment.title| translate}}</span>
                        </accordion-heading>                        
                        <div class="list-element-container">
                            <div class="list-element"> 
                                {{'program'| translate}}
                                <span class="right">
                                    <select ng-model="selectedProgram" 
                                            ng-options="program as program.name for program in programs | orderBy: 'name'" 
                                            ng-change="showEnrollment()">
                                        <option value="">{{'please_select'| translate}}</option>
                                    </select>
                                </span>
                            </div>                            
                        </div>                        
                    </accordion-group>
                </accordion>                
            </div>
            <div class="col-sm-3 col-md-3">
                <accordion>
                    <accordion-group is-open="{{notes.isOpen}}">
                        <accordion-heading>
                            <span class="list-title">{{notes.title| translate}}</span>
                        </accordion-heading>                        
                        This is notes.
                    </accordion-group>
                </accordion>               
            </div>
        </div>
    </div>

    <div class='separator'></div>

    <div class="col-xs-12">
        <accordion>
            <accordion-group is-open="{{dataEntry.isOpen}}">
                <accordion-heading>
                    <span class="list-title">{{dataEntry.title| translate}}</span>
                </accordion-heading>                        
                This is data entry.
            </accordion-group>
        </accordion>
    </div> 

</div>