
#parse( "/dhis-web-caseentry/reportSelect.vm" )

<table class="mainPageTable">
    <tr>
        <td style="vertical-align:top">    
        <table class="listTable">
            <col>
            #foreach( $programStage in $program.programStages )
                <col>
            #end       
            <tr>
                <th style="text-align:center">$i18n.getString( "full_name" )</th>
                #foreach( $programStage in $program.programStages )
                    <th style="text-align:center">$encoder.htmlEncode( $programStage.name )</th>
                #end                
            </tr>
          
            <tbody id="list">
                #set( $mark = false )                 
                #foreach( $programInstance in $programInstances )
                    <tr #alternate( $mark )>                
                        <td>$encoder.htmlEncode( $programInstance.patient.getFullName() )</td>                    
                        #foreach( $programStageInstance in $programInstance.programStageInstances )
                            #if( $programStageInstance.executionDate )
                                <td style="text-align:center" bgcolor="$colorMap.get( $programStageInstance.id )">
                                    <a href="javascript:viewRecords( $programStageInstance.id )">
                                    $format.formatDate( $programStageInstance.executionDate )
                                </td>
                            #else
                                <td style="text-align:center" bgcolor="$colorMap.get( $programStageInstance.id )">$format.formatDate( $programStageInstance.dueDate ) </td>
                            #end
                        #end
                    </tr>
                    #if( $mark )
                        #set( $mark = false )
                    #else
                        #set( $mark = true )
                    #end 
                #end    
            </tbody>
    
        </table>
        </td>
    </tr>
</table>
