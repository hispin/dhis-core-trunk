#if( $programInstance.size() == 0 )
	<i>$i18n.getString('no_result')</i>
#else
<table class="mainPageTable">
<tr>
    <td style="vertical-align:top">    
    <table class="listTable">
        <tbody id="list" style="width:300px; overflow:auto;">
            #set( $mark = false )                 
            #foreach( $programInstance in $programInstances )
                <tr #alternate( $mark )>                
					<td>
						<a href="javascript:showPatientHistory( $programInstance.patient.id )" title='$i18n.getString( "patient_details_and_history" )'>$programInstance.patient.getFullName()</a>
					</td>				
                    #foreach( $programStageInstance in $programInstance.programStageInstances )
						<td>
							<img src='images/rightarrow.png'>
						</td>
						<td width='100px;'>
							<input type='button' class='buttonInfo' style='border-color:$colorMap.get( $programStageInstance.id );' value='$programStageInstance.programStage.name $format.formatDate( $programStageInstance.dueDate )' onclick='javascript:viewRecords( $programStageInstance.id )'>
						</td>
                    #end
                </tr>
                #if( $mark )
                    #set( $mark = false )
                #else
                    #set( $mark = true )
                #end 
            #end    
        </tbody>
		<tr>
			#set( $size=$program.programStages.size() + 2 )
			<td colspan="$size">
				<p></p>
				<div class="paging-container">
					#parse( "/dhis-web-commons/paging/paging.vm" )
				</div>
			</td>
		</tr>
    </table>
    </td>
</tr>
</table>

<div id="viewRecordsDiv"></div>
#end
<script>
	var i18n_patient_details_and_history = '$encoder.jsEscape( $i18n.getString( "patient_details_and_history" ) , "'" )';
</script>