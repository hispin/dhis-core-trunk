<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

  <include file="dhis-web-commons.xml"/>
    
  <package name="dhis-web-caseentry" extends="dhis-web-commons"
    namespace="/dhis-web-caseentry">   
    
    <action name="index" class="org.hisp.dhis.caseentry.action.NoAction">  
      <interceptor-ref name="organisationUnitTreeStack"/>    
      <result name="success" type="velocity">/main.vm</result>     
      <param name="page">/dhis-web-caseentry/index.vm</param>
      <param name="menu">/dhis-web-caseentry/menu.vm</param>             
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js</param>
    </action>
    
  <!-- Data Entry -->
    
    <action name="dataEntrySelect" class="org.hisp.dhis.caseentry.action.caseentry.DataEntrySelectAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="searchform" type="chain">searchform</result>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/select.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>   
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js</param>      
    </action>   
    
    <action name="searchform" class="org.hisp.dhis.caseentry.action.caseentry.SearchPatientFormAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/search.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js</param>            
    </action>   
    
    <action name="validateSearch"
      class="org.hisp.dhis.caseentry.action.caseentry.ValidateSearchAction">
      <result name="success" type="velocity-xml">/dhis-web-caseentry/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-caseentry/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-caseentry/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="searchPatient" class="org.hisp.dhis.caseentry.action.caseentry.SearchPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/listPatient.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>    
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js</param>            
    </action>
    
    <action name="listAllPatients" class="org.hisp.dhis.caseentry.action.caseentry.SearchPatientAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="listAll">true</param>
      <param name="page">/dhis-web-caseentry/listPatient.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js</param>            
    </action>   
    
    <action name="selectDataRecording" class="org.hisp.dhis.caseentry.action.caseentry.DataRecordingSelectAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="dataentryform" type="chain">dataentryform</result>
      <result name="customentryform" type="chain">customentryform</result>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/dataRecordingSelect.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js</param>
      <param name="stylesheets">style/patient.css</param>            
    </action>    
    
    <action name="completeDataEntry" class="org.hisp.dhis.caseentry.action.caseentry.CompleteDataEntryAction">
        <result name="success" type="chain">selectDataRecording</result>
    </action>
    
    <action name="saveExecutionDate" class="org.hisp.dhis.caseentry.action.caseentry.SaveExecutionDateAction">
      <result name="success" type="velocity">status.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>  
    
    <action name="dataentryform" class="org.hisp.dhis.caseentry.action.caseentry.DataEntryAction">
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/dataEntryForm.vm</param>
      <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,../dhis-web-commons/util/jquery.metadata.js</param>
      <param name="stylesheets">style/patient.css</param>
    </action>
    
    <action name="saveValue" class="org.hisp.dhis.caseentry.action.caseentry.SaveValueAction">
      <result name="success" type="velocity">status.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>
    
    <action name="saveDateValue" class="org.hisp.dhis.caseentry.action.caseentry.SaveDateValueAction">
      <result name="success" type="velocity">status.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>
    
    <action name="saveProvidingFacility" class="org.hisp.dhis.caseentry.action.caseentry.SaveProvidingFacilityAction">
      <result name="success" type="velocity">status.vm</result>
      <result name="input" type="velocity">status.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>
    
    <action name="getPatient" class="org.hisp.dhis.caseentry.action.caseentry.GetPatientAction">
      <result name="success" type="velocity-xml">/dhis-web-caseentry/responsePatient.vm</result>
      <param name="onExceptionReturn">plainTextError</param>      
    </action>    
    
    <action name="customentryform" class="org.hisp.dhis.caseentry.action.caseentry.CustomDataEntryAction">
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/dataEntryForm.vm</param>
       <param name="menu">/dhis-web-caseentry/dataEntryMenu.vm</param>    
      <param name="javascripts">../dhis-web-commons/util/jquery-ui.js,../dhis-web-commons/ouwt/ouwt.js,javascript/dataEntry.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js
      ,../dhis-web-commons/util/jquery.metadata.js,javascript/customcheckbox/prettyCheckboxes.js</param>
      <param name="stylesheets">../dhis-web-commons/util/css/redmond/jquery-ui.css,style/patient.css
      ,javascript/customcheckbox/prettyCheckboxes.css</param>
    </action>
    <!-- Visit Plan -->
    
    <action name="visitPlanSelect" class="org.hisp.dhis.caseentry.action.visitplan.VisitPlanSelectAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="visitplan" type="chain">visitplan</result>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/visitPlanSelect.vm</param>
      <param name="menu">/dhis-web-caseentry/reportsMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/visitPlan.js</param>      
    </action>   
    
    <action name="visitplan" class="org.hisp.dhis.caseentry.action.visitplan.VisitPlanAction">
      <interceptor-ref name="organisationUnitTreeStack"/>
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/visitPlan.vm</param>
      <param name="menu">/dhis-web-caseentry/reportsMenu.vm</param>  
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/visitPlan.js</param>            
    </action>
    
    <!-- Report -->   
    
    <action name="reportSelect" class="org.hisp.dhis.caseentry.action.report.ReportSelectAction">
      <interceptor-ref name="organisationUnitTreeStack"/>  
      <result name="success" type="velocity">/main.vm</result>     
      <param name="page">/dhis-web-caseentry/reportSelect.vm</param>
      <param name="menu">/dhis-web-caseentry/reportsMenu.vm</param>      
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/report.js</param>      
    </action>  
    
    <action name="validateReportParameters"
      class="org.hisp.dhis.caseentry.action.report.ValidateReportParametersAction">
      <result name="success" type="velocity-xml">/dhis-web-caseentry/responseSuccess.vm</result>
      <result name="error" type="velocity-xml">/dhis-web-caseentry/responseError.vm</result>
      <result name="input" type="velocity-xml">/dhis-web-caseentry/responseInput.vm</result>
      <param name="onExceptionReturn">plainTextError</param>
    </action>
    
    <action name="generateReport" class="org.hisp.dhis.caseentry.action.report.GenerateReportAction">
      <interceptor-ref name="organisationUnitTreeStack"/>            
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/report.vm</param>
      <param name="menu">/dhis-web-caseentry/reportsMenu.vm</param>    
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,../dhis-web-commons/calendar/calendar.js,../dhis-web-commons/calendar/calendar-lang.js,../dhis-web-commons/calendar/calendar-setup.js,javascript/report.js</param>      
    </action>
    
    <action name="viewRecords" class="org.hisp.dhis.caseentry.action.report.ViewRecordsAction">      
      <result name="success" type="velocity">/popup.vm</result>      
      <param name="page">/dhis-web-caseentry/records.vm</param>                  
    </action>
    
	 <!-- Case Aggregation -->

    <action name="caseAggregationForm" class="org.hisp.dhis.caseentry.action.caseaggregation.CaseAggregationFormAction">
      <interceptor-ref name="organisationUnitTreeStack"/>            
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/caseAggregationForm.vm</param>
      <param name="menu">/dhis-web-caseentry/caseAggregationMenu.vm</param>    
      <param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/caseagg.js,javascript/date.js</param>      
    </action>
    
	<action name="getOrgUnitDetails" class="org.hisp.dhis.caseentry.action.caseaggregation.GetOrgUnitsAction">
		<result name="success" type="velocity">/dhis-web-caseentry/responseOrgUnit.vm</result>			
		<param name="onExceptionReturn">plainTextError</param>
	</action>
	
	<action name="getDataSetPeriods" class="org.hisp.dhis.caseentry.action.caseaggregation.GetDataSetPeriodsAction">
		<result name="success" type="velocity">/dhis-web-caseentry/dSetResponsePeriod.vm</result>
		<param name="onExceptionReturn">plainTextError</param>
	</action>

    <action name="caseAggregationResult" class="org.hisp.dhis.caseentry.action.caseaggregation.CaseAggregationResultAction">                 
      <result name="success" type="velocity">/main.vm</result>
      <param name="page">/dhis-web-caseentry/caseAggregationResult.vm</param>
      <param name="menu">/dhis-web-caseentry/menu.vm</param>      
    </action>
		  
  </package>
</struts>
