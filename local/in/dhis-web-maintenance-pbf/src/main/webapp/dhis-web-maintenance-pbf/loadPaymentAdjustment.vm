
<script type="text/javascript" >

	Ext.Loader.setConfig({
		enabled: true
	});
	Ext.Loader.setPath('Ext.ux.grid', 'javascript');
	Ext.require([
		'Ext.data.*',
		'Ext.grid.*',
		'Ext.toolbar.Paging',
		'Ext.ux.grid.TransformGrid'
	]);
	
</script>

<script >
$(function() {
			Ext.QuickTips.init();
			
			var grid = Ext.create('Ext.ux.grid.TransformGrid', "paymentDetails", {				
			sortableColumns: true,
            enableColumnMove: true,
            enableColumnResize: true,
            sortOnLoad: true,
			width: tableWidth,
        	height: 360,			
            sorters: {direction: 'ASC'},
			autoCreateViewPort:false,
			renderTo: Ext.Element.get('#paymentTable'),
        	layout: {
            	type: 'hbox',
            	align: 'stretch'
        	},
			columns: [
    		{
                text     : '$i18n.getString( "indicator" )',
    			width    : columnWidth,            
                sortable : true
            },
			{
                text     : '$i18n.getString( "quantity_for" )',
    			width    : columnWidth,            
                sortable : true
            },
			{
                text     : '$i18n.getString( "payment" )',
    			width    : columnWidth,						
                sortable : true
            },
			{
                text     : '$i18n.getString( "amount" )',
    			width    : columnWidth,						
                sortable : true
            },
			{
                text     : '$i18n.getString( "amount_including_quality" )',
    			width    : columnWidth,						
                sortable : true
            },
			{
                text     : '$i18n.getString( "adjusted_per" )',
    			width    : columnWidth,						
                sortable : true
            },
			{
                text     : '$i18n.getString( "adjusted_per" )',
    			width    : columnWidth,						
                sortable : false
            }
			]
			});
			
			grid.render();

});
</script>
<style >
	.mandatory
	{
		color:red;
		font-size: 1.5em;
	}
</style>

<input type="hidden" id="dataElementId" name="dataElementId" value="$!selecteddataElement.id"/>
<div style="width:100%;" id="paymentTable">
<table id="paymentDetails" name="paymentDetails" cellspacing="0">
	<thead >
		<tr >
			<th >$i18n.getString( "indicator" )</th>
			<th >$i18n.getString( "quantity_for" )</th>
			<th >$i18n.getString( "payment" )</th>
			<th >$i18n.getString( "amount" )</th>
			<th >$i18n.getString( "amount_including_quality" )</th>
			<th >$i18n.getString( "adjusted_per" )</th>
			<th >$i18n.getString( "adjusted_per" )</th>
        </tr>
	</thead>
	<tbody>
		#set( $mark = false )
		#foreach( $dataElement in $dataElements )
			#if( $mark )
                #set( $mark = false )
			#else
				#set( $mark = true )
			#end
            <tr >
				<td>$!dataElement.name</td>
				<td>$!quantityValidatedMap.get( $dataElement.uid )</td>
				<td>$!tariffDataValueMap.get( $dataElement.uid )</td>
				<td>$!quantityValidatedMap.get( $dataElement.uid ) * $!tariffDataValueMap.get( $dataElement.uid )</td>
				<td>&nbsp; </td>
				<td>&nbsp;</td>
	            <td>&nbsp;</td>			
        </tr>
		#end
    </tbody>
</table>
</div>