<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<include file="dhis-web-commons.xml" />

	<package name="dhis-web-vn-report" extends="dhis-web-commons"
		namespace="/dhis-web-vn-report">

		<action name="getConfiguration"
			class="org.hisp.dhis.vn.report.configuration.action.GetReportConfigurationAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/configuration.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="setConfiguration"
			class="org.hisp.dhis.vn.report.configuration.action.SetReportConfigurationAction">
			<result name="success" type="redirect">listReportExcel.action
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>


		<action name="listReportExcel" class="org.hisp.dhis.vn.report.action.ListReportAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reports.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">javascript/reports.js,javascript/dataelement.js,javascript/jquery.autocomplete.js</param>
			<param name="stylesheets">style/jquery.autocomplete.css</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="updateReportExcelGroupListing"
			class="org.hisp.dhis.vn.report.action.UpdateReportExcelGroupListingAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="getReportGroups"
			class="org.hisp.dhis.vn.report.action.GetReportGroupsAction">
			<result name="success" type="velocity">
				/dhis-web-vn-report/responseReportGroups.vm</result>
		</action>

		<action name="updateReportExcelGroupListing"
			class="org.hisp.dhis.vn.report.action.UpdateReportExcelGroupListingAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="addReportExcelForm"
			class="org.hisp.dhis.vn.report.action.AddReportExcelAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="getReport" class="org.hisp.dhis.vn.report.action.GetReportAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
		</action>

		<action name="openAddUnitGroupForReportListing" class="org.hisp.dhis.vn.report.action.GetReportAction">
			<result name="success" type="chain">
				openAddUnitGroupForReportListingChain</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openAddUnitGroupForReportListingChain"
			class="org.hisp.dhis.vn.report.action.GetOrganisationUnitGroupAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="updateReportExcelForm"
			class="org.hisp.dhis.vn.report.action.UpdateReportExcelAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="updateReportExcelForm"
			class="org.hisp.dhis.vn.report.action.UpdateReportExcelAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="validateReport"
			class="org.hisp.dhis.vn.report.action.ValidateReportAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/responseError.vm</result>
		</action>

		<action name="deleteReport"
			class="org.hisp.dhis.vn.report.action.DeleteReportAction">
			<result name="success" type="redirect">listReportExcel.action
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openDefineAssociationsForm"
			class="org.hisp.dhis.vn.report.action.GetNumberOfLevelsAction">
			<result name="success" type="chain">openDefineAssociationsFormChain
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openDefineAssociationsFormChain"
			class="org.hisp.dhis.vn.report.action.OpenReportExcelAssociationAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reportassociation.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/oust/oust.js,javascript/associations.js</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="selectLevelChain"
			class="org.hisp.dhis.vn.report.action.GetNumberOfLevelsAction">
			<result name="success" type="chain">getReportChain
			</result>
		</action>

		<action name="getReportChain" class="org.hisp.dhis.vn.report.action.GetReportAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reportassociation.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/oust/oust.js,javascript/associations.js</param>
		</action>

		<action name="selectLevel" class="org.hisp.dhis.vn.report.action.SelectLevelAction">
			<result name="success" type="chain">selectLevelChain
			</result>
		</action>

		<action name="unselectLevel"
			class="org.hisp.dhis.vn.report.action.UnselectLevelAction">
			<result name="success" type="chain">selectLevelChain
			</result>

		</action>

		<action name="unselectAll" class="org.hisp.dhis.vn.report.action.UnselectAllAction">
			<result name="success" type="chain">selectLevelChain
			</result>

		</action>

		<action name="updateDefineAssociations"
			class="org.hisp.dhis.vn.report.action.UpdateReportAssociationAction">
			<result name="success" type="redirect">listReportExcel.action
			</result>
		</action>

		<!-- Report Item -->

		<action name="listReportItem"
			class="org.hisp.dhis.vn.reportitem.action.ListReportItemAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reportItems.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">javascript/reportItem.js,javascript/dataelement.js</param>
		</action>

		<action name="getReportItems"
			class="org.hisp.dhis.vn.reportitem.action.ListReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReportItems.vm</result>
		</action>

		<action name="getReportItem"
			class="org.hisp.dhis.vn.reportitem.action.GetReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReportItem.vm</result>
		</action>

		<action name="validateReportItem"
			class="org.hisp.dhis.vn.reportitem.action.ValidateReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/responseError.vm</result>
		</action>

		<action name="addReportItem"
			class="org.hisp.dhis.vn.reportitem.action.AddReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReportItem.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="updateReportItem"
			class="org.hisp.dhis.vn.reportitem.action.UpdateReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReportItem.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="deleteReportItem"
			class="org.hisp.dhis.vn.reportitem.action.DeleteReportItemAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="getFilteredDataElements"
			class="org.hisp.dhis.vn.report.formula.action.GetFilteredDataElementsAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseOperandList.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
		</action>

		<action name="getFormulaText"
			class="org.hisp.dhis.vn.report.formula.action.GetFormulaTextAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseFormulaText.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
		</action>

		<action name="validateDenum"
			class="org.hisp.dhis.vn.report.formula.action.ValidateDenumAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/responseError.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
		</action>

		<action name="getALLReportAjax" class="org.hisp.dhis.vn.report.action.ListReportAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseListReport.vm</result>
		</action>

		<action name="copyReportItems"
			class="org.hisp.dhis.vn.reportitem.action.CopyReportItemsAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>


		<!-- Export Report-->

		<action name="getOrganisation"
			class="org.hisp.dhis.vn.report.export.action.GetOrganisationUnitAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseOrganisation.vm</result>
		</action>

		<action name="getReportAssociation"
			class="org.hisp.dhis.vn.report.export.action.SelectFormAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReportAssociations.vm</result>
		</action>

		<action name="getPeriod"
			class="org.hisp.dhis.vn.report.export.action.GetPeriodAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responsePeriods.vm</result>
		</action>

		<action name="getReportsByGroup"
			class="org.hisp.dhis.vn.report.export.action.GetReportByOrganisationAndGroupAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseListReport.vm</result>
		</action>

		<action name="selectReportParamerter"
			class="org.hisp.dhis.vn.report.export.action.SelectFormAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reportparams.vm</param>
			<param name="menu">/dhis-web-vn-report/menuWithTree.vm</param>
			<param name="menuTreeHeight">220</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/export.js</param>
		</action>

		<action name="validateGenerateReport"
			class="org.hisp.dhis.vn.report.export.action.ValidateGenerateReportAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/responseError.vm</result>
		</action>

		<action name="generateReport"
			class="org.hisp.dhis.vn.report.export.action.GenerateReportAction">
			<result name="success" type="stream">
				<param name="contentType">application/vnd.ms-excel</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">filename="${outputXLS}"</param>
				<param name="bufferSize">1024</param>
			</result>
		</action>

		<!-- Delete Report Temp Files -->

		<action name="cleanTempDirectory"
			class="org.hisp.dhis.vn.report.support.action.CleanTempDirectoryAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseDeleteTempDir.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<!-- Data Set Completed -->

		<action name="selectDataSetCompletedReport"
			class="org.hisp.dhis.vn.report.completed.action.SelectParamsAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/dataSetCompleteReportSelect.vm</param>
			<param name="menu">/dhis-web-vn-report/menuWithTree.vm</param>
			<param name="menuTreeHeight">220</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/dataSetCompleted.js</param>
		</action>

		<action name="getOrganisationUnit"
			class="org.hisp.dhis.vn.report.export.action.GetOrganisationUnitAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseOrganisation.vm</result>
		</action>

		<action name="getDataSetAndPeriodByPeriodType"
			class="org.hisp.dhis.vn.report.completed.action.GetDataSetAndPeriodByPeriodTypeAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseDataSetAndPeriodByPeriodType.vm</result>
		</action>

		<action name="viewDataSetCompleted"
			class="org.hisp.dhis.vn.report.completed.action.ViewDataSetCompletedAction">
			<result name="success" type="velocity">/popup.vm</result>
			<param name="page">/dhis-web-vn-report/viewDataSetCompleted.vm</param>
			<param name="stylesheets">style/listTable.css</param>
			<param name="javascripts">javascript/dataSetCompleted.js</param>
		</action>

		<action name="viewCustomDataSetReport"
			class="org.hisp.dhis.vn.report.completed.action.ViewCustomDataSetReportAction">
			<result name="success" type="velocity">/popup.vm</result>
			<param name="page">/dhis-web-vn-report/viewCustomDataSetReport.vm</param>
		</action>

		<!-- Import Excel File -->

		<action name="getExcelFileByOrganisationUnit"
			class="org.hisp.dhis.vn.imports.action.GetListExcelFileByOrganisationAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/listExcelFile.vm</param>
			<param name="menu">/dhis-web-vn-report/menuWithTree.vm</param>
			<param name="menuTreeHeight">220</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/imports.js</param>
		</action>

		<action name="uploadExcelFile"
			class="org.hisp.dhis.vn.imports.action.UploadExcelFileAction">
			<result name="success" type="redirect">
				getExcelFileByOrganisationUnit.action</result>
			<interceptor-ref name="fileUploadStack" />
		</action>

		<action name="deleteExcelFile"
			class="org.hisp.dhis.vn.imports.action.DeleteExcelFileAction">
			<result name="success" type="redirect">
				getExcelFileByOrganisationUnit.action</result>
		</action>

		<action name="viewExcelFileDataValue"
			class="org.hisp.dhis.vn.imports.action.ViewDataFromExcelFileAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/excelFileValue.vm</param>
			<param name="javascripts">javascript/imports.js</param>
		</action>

		<!-- DataElement -->

		<action name="getDataElementGroupsAndCateCombosList"
			class="org.hisp.dhis.vn.dataelement.action.GetDataElementGroupsAndCateCombosListAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/dataelement/responseElementGroupsAndCombosList.vm
			</result>
			<param name="javascripts">javascript/dataelement.js,javascript/report.js</param>
		</action>

		<action name="getCategoryList"
			class="org.hisp.dhis.vn.categorycombo.action.GetFilteredCategoryListAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/categorycombo/responseCategories.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/categorycombo/responseError.vm</result>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/export.js,javascript/dataelement.js,javascript/report.js</param>
		</action>

		<action name="getDataElementList"
			class="org.hisp.dhis.vn.dataelement.action.GetFilteredDataElementListAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/dataelement/responseDataElements.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/dataelement/responseError.vm</result>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/export.js,javascript/dataelement.js,javascript/report.js</param>
		</action>

		<action name="validateAddDataElementAndCateCombo"
			class="org.hisp.dhis.vn.dataelement.action.ValidateAddDataElementAndCateComboInCategoryReportAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/dataelement/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/dataelement/responseError.vm</result>
		</action>


		<action name="validateFormulaForReportCategory"
			class="org.hisp.dhis.vn.report.formula.action.ValidateFormulaForReportCategoryAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<result name="error" type="velocity-xml">
				/dhis-web-vn-report/responseError.vm</result>
			<param name="onExceptionReturn">plainTextError</param>
		</action>

		<action name="getSelectedElementsAndAvailableElements" class="org.hisp.dhis.vn.report.action.GetReportAction">
			<result name="success" type="chain">
				openSelectedElementsAndAvailableElementsChain</result>
		</action>

		<action name="openSelectedElementsAndAvailableElementsChain"
			class="org.hisp.dhis.vn.dataelement.action.GetDataElementGroupMembersAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseReport.vm</result>
		</action>

		<action name="updateElementsAndComboReportCategory"
			class="org.hisp.dhis.vn.report.action.UpdateElementMembersAndCateComboReportCategoryAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseSuccess.vm</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="getOptionComboList"
			class="org.hisp.dhis.vn.categorycombo.action.GetOptionCombosAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/categorycombo/responseOptionComboList.vm
			</result>
			<param name="javascripts">javascript/export.js,javascript/dataelement.js,javascript/report.js</param>
		</action>

		<!-- Admin -->

		<action name="getAdminOptions"
			class="org.hisp.dhis.vn.admin.action.GetAdminOptionsAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/reportUserRoles.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">javascript/admin.js</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="saveReportUserRoles"
			class="org.hisp.dhis.vn.admin.action.SaveReportUserRolesAction">
			<result name="success" type="chain">getAdminOptions</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openAdministrator"
			class="org.hisp.dhis.vn.admin.action.NoAction">
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/viewAdministrator.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>



		<!-- Data Status Action -->

		<action name="index"
			class="org.hisp.dhis.vn.datastatus.action.DefaultDataStatusAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/dataStatusShow.vm</param>
			<param name="menu">/dhis-web-vn-report/menuWithTree.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/datastatus.js</param>
			<param name="menuTreeHeight">400</param>
		</action>

		<action name="listDataStatus"
			class="org.hisp.dhis.vn.datastatus.action.ListDataStatusAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/listDataStatus.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/datastatus.js</param>
			<param name="menuTreeHeight">400</param>
		</action>

		<action name="addDataStatus"
			class="org.hisp.dhis.vn.datastatus.action.AddDataStatusAction">
			<result name="success" type="redirect">listDataStatus.action
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="updateDataStatus"
			class="org.hisp.dhis.vn.datastatus.action.UpdateDataStatusAction">
			<result name="success" type="redirect">listDataStatus.action
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="deleteDataStatus"
			class="org.hisp.dhis.vn.datastatus.action.DeleteDataStatusAction">
			<result name="success" type="redirect">listDataStatus.action
			</result>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openUpdateDataStatus"
			class="org.hisp.dhis.vn.datastatus.action.GetDataStatusAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/updateDataStatus.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/datastatus.js</param>
			<param name="menuTreeHeight">400</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="openAddDataStatus" class="org.hisp.dhis.vn.datastatus.action.NoAction">
			<interceptor-ref name="organisationUnitTreeStack" />
			<result name="success" type="velocity">/main.vm</result>
			<param name="page">/dhis-web-vn-report/addDataStatus.vm</param>
			<param name="menu">/dhis-web-vn-report/menu.vm</param>
			<param name="javascripts">../dhis-web-commons/ouwt/ouwt.js,javascript/datastatus.js</param>
			<param name="menuTreeHeight">400</param>
			<param name="requiredAuthorities">F_ADMINISTRATIONS</param>
		</action>

		<action name="getDataSets"
			class="org.hisp.dhis.vn.datastatus.action.GetDataSetAction">
			<result name="success" type="velocity-xml">
				/dhis-web-vn-report/responseDataSets.vm</result>
		</action>


	</package>
</struts>
