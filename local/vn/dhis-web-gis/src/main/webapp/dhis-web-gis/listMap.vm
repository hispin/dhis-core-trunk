<div id="topMapMenu">		
	<a style="text-decoration:none" style="CURSOR: hand" href="javascript:showHideLabel();">[Label]</a>
	<a style="text-decoration:none" style="CURSOR: hand" href="javascript:setPositionCenter('uploadfile');showById('uploadfile');">[$i18n.getString( 'upload_file' )]</a>
	<a style="text-decoration:none" style="CURSOR: hand" href="javascript:zoomIn();" title="Zoom In">[ + ]</a>
	<a style="text-decoration:none" style="CURSOR: hand" href="javascript:zoomOut();" title="Zoom Out">[ - ]</a>
	<a style="text-decoration:none" style="CURSOR: hand" href="javascript:retoreZoom();" title="Retore">[ ~ ]</a>
	<a style="text-decoration:none" style="CURSOR: hand" href="#" onclick="showById('listMapFile');" >[ < ]</a>	
</div>
<div id="mapDiv" >	
	<div id="divMap">
	 <embed id="map" src="map/$mapFile" name="map" type="image/svg+xml" align="center"/>
	</div>	
</div>
<script type="text/javascript">
		
	var paddingTop = document.getElementById( "mapDiv" ).offsetTop;
	
	var windowHeight = window.innerHeight;
	
	var windowWidth = window.innerWidth;
	
	var frameHeight = windowHeight - paddingTop - 10;	
	
	document.getElementById( "mapDiv" ).style.height = frameHeight +"px";		
		
</script>

<div id="listMapFile">
  <table id="list" style="width:100%">					
	 <tr>						
		<th>$i18n.getString( "file_name" )</th>
		<th><div class="closeButton" onclick="hideById('listMapFile');">[x]</div></th>
	  </tr>					  
		#set( $mark = false )
		#foreach( $map in $listMap )
	
		  <tr #if( $mark ) style="background-color:#dddddd" #end>							
			<td><a href="#" onclick="javascript:previewMap('$map');">$map</a></td>
			<td><a href="javascript:deleteFile('$map');"><img src="../images/delete.png" width="16" height="16" alt="$i18n.getString( 'remove' )"></a></td>
		  </tr>					 
	   #if( $mark )
			#set( $mark = false )
		  #else
			#set( $mark = true )
		  #end
	  #end
	</table>
</div>
<form name="uploadfile" action="uploadFile.action" method="post" enctype="multipart/form-data">
<div id="uploadfile">
	<div class="closeButton" onclick="hideById('uploadfile');">[x]</div>	
	<input type="file" id="upload" name="upload" size="30px;">
	<input type="button" onclick="uploadFile();" value="$i18n.getString( 'upload_file' )"/>	
</div>
</form>

<script type="text/javascript">

	var i18n_confirm_delete = '$encoder.jsEscape( $i18n.getString( "confirm_delete" ) , "'" )';
	var i18n_file_null = '$encoder.jsEscape( $i18n.getString( "file_null" ) , "'" )';
	var i18n_dont_have_label = '$encoder.jsEscape( $i18n.getString( "dont_have_label" ) , "'" )';

	function openUploadFile(){	
		setPositionCenter('uploadfile');
		showDropDown('uploadfile');
	}

	function deleteFile(mapFile){
		if(confirm( i18n_confirm_delete )){
			window.location = "deleteFileMap.action?mapFile="+mapFile+"";
		}
	}

	function uploadFile(){
		var fileUpload =  document.getElementById('upload').value;
		if(fileUpload==''){
			alert(i18n_file_null);
		}else{
			document.uploadfile.submit();
		}		
	}
	
</script>      


